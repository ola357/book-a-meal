{"version":3,"sources":["meals.js"],"names":["express","require","validateGenre","router","Router","meals","id","name","get","req","res","send","post","body","error","status","details","message","meal","length","push","put","find","c","parseInt","params","delete","index","indexOf","splice","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;;eAC0BA,QAAQ,6BAAR,C;IAAlBC,a,YAAAA,a;;AAER,IAAMC,SAASH,QAAQI,MAAR,EAAf;;AAEA,IAAMC,QAAQ,CACZ,EAAEC,IAAI,CAAN,EAASC,MAAM,aAAf,EADY,EAEZ,EAAED,IAAI,CAAN,EAASC,MAAM,YAAf,EAFY,EAGZ,EAAED,IAAI,CAAN,EAASC,MAAM,gBAAf,EAHY,CAAd;;AAMAJ,OAAOK,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5BA,MAAIC,IAAJ,CAASN,KAAT;AACD,CAFD;;AAIAF,OAAOS,IAAP,CAAY,GAAZ,EAAiB,UAACH,GAAD,EAAMC,GAAN,EAAc;AAAA,uBACXR,cAAcO,IAAII,IAAlB,CADW;AAAA,MACrBC,KADqB,kBACrBA,KADqB;;AAE7B,MAAIA,KAAJ,EAAW,OAAOJ,IAAIK,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqBG,MAAME,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP;;AAEX,MAAMC,OAAO;AACXZ,QAAID,MAAMc,MAAN,GAAe,CADR;AAEXZ,UAAME,IAAII,IAAJ,CAASN;AAFJ,GAAb;AAIAF,QAAMe,IAAN,CAAWF,IAAX;AACAR,MAAIC,IAAJ,CAASO,IAAT;AACD,CAVD;;AAYAf,OAAOkB,GAAP,CAAW,MAAX,EAAmB,UAACZ,GAAD,EAAMC,GAAN,EAAc;AAC/B,MAAMQ,OAAOb,MAAMiB,IAAN,CAAW;AAAA,WAAKC,EAAEjB,EAAF,KAASkB,SAASf,IAAIgB,MAAJ,CAAWnB,EAApB,EAAwB,EAAxB,CAAd;AAAA,GAAX,CAAb;AACA,MAAI,CAACY,IAAL,EAAW,OAAOR,IAAIK,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB,2CAArB,CAAP;;AAFoB,wBAIbT,cAAcO,IAAII,IAAlB,CAJa;AAAA,MAIvBC,KAJuB,mBAIvBA,KAJuB;;AAK/B,MAAIA,KAAJ,EAAW,OAAOJ,IAAIK,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqBG,MAAME,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP;;AAEXC,OAAKX,IAAL,GAAYE,IAAII,IAAJ,CAASN,IAArB;AACAG,MAAIC,IAAJ,CAASO,IAAT;AACD,CATD;;AAWAf,OAAOuB,MAAP,CAAc,MAAd,EAAsB,UAACjB,GAAD,EAAMC,GAAN,EAAc;AAClC,MAAMQ,OAAOb,MAAMiB,IAAN,CAAW;AAAA,WAAKC,EAAEjB,EAAF,KAASkB,SAASf,IAAIgB,MAAJ,CAAWnB,EAApB,EAAwB,EAAxB,CAAd;AAAA,GAAX,CAAb;AACA,MAAI,CAACY,IAAL,EAAW,OAAOR,IAAIK,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB,2CAArB,CAAP;;AAEX,MAAMgB,QAAQtB,MAAMuB,OAAN,CAAcV,IAAd,CAAd;AACAb,QAAMwB,MAAN,CAAaF,KAAb,EAAoB,CAApB;;AAEAjB,MAAIC,IAAJ,CAASO,IAAT;AACD,CARD;;AAUA;;;;;;AAMAY,OAAOC,OAAP,GAAiB5B,MAAjB","file":"meals.js","sourceRoot":"C:/Users/user 168/Documents/Code/book-a-meal/server/routes","sourcesContent":["const express = require('express');\nconst { validateGenre } = require(\"../middleware/validateGenre\");\n\nconst router = express.Router();\n\nconst meals = [\n  { id: 1, name: 'Jollof rice' },\n  { id: 2, name: 'Fried rice' },\n  { id: 3, name: 'Semo and Egusi' },\n];\n\nrouter.get('/', (req, res) => {\n  res.send(meals);\n});\n\nrouter.post('/', (req, res) => {\n  const { error } = validateGenre(req.body);\n  if (error) return res.status(400).send(error.details[0].message);\n\n  const meal = {\n    id: meals.length + 1,\n    name: req.body.name,\n  };\n  meals.push(meal);\n  res.send(meal);\n});\n\nrouter.put('/:id', (req, res) => {\n  const meal = meals.find(c => c.id === parseInt(req.params.id, 10));\n  if (!meal) return res.status(404).send('The meal with the given ID was not found.');\n\n  const { error } = validateGenre(req.body);\n  if (error) return res.status(400).send(error.details[0].message);\n\n  meal.name = req.body.name;\n  res.send(meal);\n});\n\nrouter.delete('/:id', (req, res) => {\n  const meal = meals.find(c => c.id === parseInt(req.params.id, 10));\n  if (!meal) return res.status(404).send('The meal with the given ID was not found.');\n\n  const index = meals.indexOf(meal);\n  meals.splice(index, 1);\n\n  res.send(meal);\n});\n\n/* router.get('/:id', (req, res) => {\n  const meal = meals.find(c => c.id === parseInt(req.params.id, 10));\n  if (!meal) return res.status(404).send('The meal with the given ID was not found.');\n  res.send(meal);\n}); */\n\nmodule.exports = router;\n"]}